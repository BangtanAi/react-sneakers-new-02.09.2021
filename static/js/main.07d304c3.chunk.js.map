{"version":3,"sources":["context.js","components/Info.jsx","components/Drawer.js","components/Header.js","components/Card.js","Home.jsx","Favorites.jsx","Orders.jsx","App.js","index.js"],"names":["AppContext","React","createContext","Info","image","title","description","setCartOpened","useContext","className","width","height","src","alt","onClick","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","items","onRemove","useState","isOrderComplete","setIsOrderComplete","orderId","setOrderId","cartItems","setCartItems","isLoading","setIsLoading","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","totalPrice","reduce","sum","obj","price","map","imageUrl","disabled","Header","props","to","onClickCart","Card","onPlus","onAddFavorites","favorited","loading","isItemAdded","isFavorite","setIsFavorite","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","parentId","Home","searchValue","onChangeSearchInput","setSearchValue","onAddToCart","onAddToFavorites","onChange","value","placeholder","filteredItems","filter","toLowerCase","includes","Array","index","key","added","some","Number","renderItems","Favorites","favorites","Orders","orders","setOrders","useEffect","get","prev","App","cartOpened","setItems","setFavorites","all","cartResponse","favoriteResponse","itemsResponse","console","error","fetchData","findItem","find","favObj","Provider","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.07d304c3.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst AppContext = React.createContext({});\r\n\r\nexport default AppContext;","import React from 'react'\r\nimport AppContext from '../context'\r\n\r\nfunction Info({ image, title, description }) {\r\n    const { setCartOpened } = React.useContext(AppContext)\r\n    return (\r\n        <div className=\"cart-empty\">\r\n            <img\r\n              width={120}\r\n              height={120}\r\n              src={image}\r\n              alt=\"Empty cart\"\r\n              className=\"cart-empty__img\"\r\n            />\r\n            <h4>{title}</h4>\r\n            <p>{description}</p>\r\n            <button onClick={()=> setCartOpened(false)} className=\"greenButton\">\r\n              <img src=\"img/cart-empty.svg\" alt=\"Arrow\" /> Вернуться назад\r\n            </button>\r\n          </div>\r\n    )\r\n}\r\n\r\nexport default Info\r\n","import axios from 'axios';\r\nimport React from 'react';\r\nimport AppContext from '../context';\r\nimport Info from './Info';\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nfunction Drawer({ onClose, items = [], onRemove }) {\r\n  const [isOrderComplete, setIsOrderComplete] = React.useState(false);\r\n  const [orderId, setOrderId] = React.useState(null);\r\n  const { cartItems, setCartItems } = React.useContext(AppContext);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const onClickOrder = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const { data } = await axios.post('https://60d9d1c65f7bf1001754778d.mockapi.io/orders', {\r\n        items: cartItems,\r\n      });\r\n      setOrderId(data.id);\r\n      setIsOrderComplete(true);\r\n      setCartItems([]);\r\n\r\n      for (let i = 0; i < cartItems.length; i++){\r\n        const item = cartItems[i];\r\n        await axios.delete('https://60d9d1c65f7bf1001754778d.mockapi.io/cart/' + item.id);\r\n        await delay(1000);\r\n      }\r\n    } catch (error){\r\n      alert('Не удалось создать заказ :(');\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n  const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\r\n \r\n  return (\r\n    <div className=\"overlay\">\r\n      <div className=\"drawer\">\r\n        <h3>\r\n          Корзина{' '}\r\n          <img onClick={onClose} className=\"remove-btn\" src=\"img/remove.svg\" alt=\"Remove\" />\r\n        </h3>\r\n        {items.length > 0 ? (\r\n          <div className=\"cart-filled\">\r\n            <div className=\"items\">\r\n              {items.map((obj) => (\r\n                <div key={obj.id} className=\"cartItem\">\r\n                  <img className=\"cartItem-img\" width={70} height={70} src={obj.imageUrl} alt=\"1\" />\r\n                  <div>\r\n                    <p>{obj.title}</p>\r\n                    <b>{obj.price} руб.</b>\r\n                  </div>\r\n                  <img\r\n                    onClick={() => onRemove(obj.id)}\r\n                    className=\"remove-btn\"\r\n                    src=\"img/remove.svg\"\r\n                    alt=\"Remove\"\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"cartTotalBlock\">\r\n              <ul>\r\n                <li>\r\n                  <span>Итого: </span>\r\n                  <div></div>\r\n                  <b>{totalPrice} руб. </b>\r\n                </li>\r\n                <li>\r\n                  <span>Налог 5%: </span>\r\n                  <div></div>\r\n                  <b>{(totalPrice/100) * 5} руб. </b>\r\n                </li>\r\n              </ul>\r\n              <button onClick={onClickOrder} disabled={isLoading} className=\"greenButton\">\r\n                Оформить заказ <img src=\"img/arrow.svg\" alt=\"Arrow\" />{' '}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <Info image={isOrderComplete ? \"img/complete-order.jpg\" : \"img/cart-empty.png\"} title={isOrderComplete ? \"Заказ оформлен!\" : \"Корзина пустая\"} description={isOrderComplete ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке` : \"Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.\"} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Drawer;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AppContext from '../context';\r\n\r\nfunction Header(props) {\r\n  const { cartItems } = React.useContext(AppContext);\r\n  const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\r\n  return (\r\n    <header>\r\n      <Link to=\"/\">\r\n      <div className=\"headerLeft\">\r\n        <img width={40} height={40} src=\"img/logo.png\" alt=\"logo\" />\r\n        <div className=\"headerInfo\">\r\n          <h3>React Sneakers</h3>\r\n          <p>Магазин лучших кроссовок</p>\r\n        </div>\r\n      </div>\r\n      </Link>\r\n\r\n      <ul className=\"headerRight\">\r\n        <li onClick={props.onClickCart} className=\"headerRight-price\">\r\n          <img width={18} height={18} src=\"img/cart.svg\" alt=\"cart\" />\r\n          <span> {totalPrice} руб.</span>\r\n        </li>\r\n        <Link to=\"/favorites\">\r\n          <li>\r\n            <img\r\n              className=\"headerRight-heart\"\r\n              width={18}\r\n              height={18}\r\n              src=\"img/favorite.svg\"\r\n              alt=\"Heart\"\r\n            />\r\n          </li>\r\n        </Link>\r\n\r\n        <Link to=\"/orders\">\r\n        <li>\r\n          <img width={18} height={18} src=\"img/user.svg\" alt=\"user\" />\r\n        </li>\r\n        </Link>\r\n\r\n      </ul>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport ContentLoader from 'react-content-loader';\r\nimport AppContext from '../context';\r\n\r\nfunction Card({\r\n  id,\r\n  title,\r\n  price,\r\n  imageUrl,\r\n  onPlus,\r\n  onAddFavorites,\r\n  favorited = false,\r\n  loading = false,\r\n}) {\r\n  const { isItemAdded } = React.useContext(AppContext);\r\n  const [isFavorite, setIsFavorite] = React.useState(favorited);\r\n\r\n  const onClickPlus = () => {\r\n    onPlus({ id, parentId: id,  title, price, imageUrl });\r\n  };\r\n  const onClickFavorite = () => {\r\n    onAddFavorites({ id, parentId: id, title, price, imageUrl });\r\n    setIsFavorite(!isFavorite);\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      {loading ? (\r\n        <ContentLoader\r\n          speed={2}\r\n          width={150}\r\n          height={220}\r\n          viewBox=\"0 0 150 220\"\r\n          backgroundColor=\"#f3f3f3\"\r\n          foregroundColor=\"#ecebeb\">\r\n          <rect x=\"203\" y=\"237\" rx=\"0\" ry=\"0\" width=\"3\" height=\"3\" />\r\n          <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"150\" height=\"91\" />\r\n          <rect x=\"0\" y=\"117\" rx=\"3\" ry=\"3\" width=\"150\" height=\"15\" />\r\n          <rect x=\"0\" y=\"137\" rx=\"3\" ry=\"3\" width=\"93\" height=\"15\" />\r\n          <rect x=\"0\" y=\"175\" rx=\"7\" ry=\"7\" width=\"80\" height=\"24\" />\r\n          <rect x=\"104\" y=\"168\" rx=\"8\" ry=\"8\" width=\"32\" height=\"32\" />\r\n        </ContentLoader>\r\n      ) : (\r\n        <>\r\n          <div className=\"favourite\">\r\n            {onAddFavorites && <img\r\n              onClick={onClickFavorite}\r\n              src={isFavorite ? 'img/liked.svg' : 'img/unliked.svg'}\r\n              alt=\"Unliked\"\r\n            />}\r\n          </div>\r\n          <img className=\"card-img\" width={133} height={112} src={imageUrl} alt=\"1\" />\r\n          <h5>{title}</h5>\r\n          <div className=\"card-descr\">\r\n            <div className=\"card-descr__price\">\r\n              <span>Цена:</span> <br />\r\n              <b>{price} руб.</b>\r\n            </div>\r\n            {onPlus &&  <img\r\n              width={32}\r\n              height={32}\r\n              onClick={onClickPlus}\r\n              src={isItemAdded(id) ? 'img/btn-checked.svg' : 'img/btn-plus.svg'}\r\n              alt=\"Plus\"\r\n            />}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from './components/Card';\r\n\r\nfunction Home({\r\n  items,\r\n  searchValue,\r\n  onChangeSearchInput,\r\n  setSearchValue,\r\n  onAddToCart,\r\n  onAddToFavorites,\r\n  cartItems,\r\n  isLoading,\r\n}) {\r\n  const renderItems = () => {\r\n    const filteredItems = items.filter((item) =>\r\n      item.title.toLowerCase().includes(searchValue.toLowerCase()),\r\n    );\r\n    return (isLoading\r\n      ? [...Array(12)]\r\n      : filteredItems).map((item, index) => (\r\n          <Card\r\n            {...item}\r\n            key={index}\r\n            onPlus={(obj) => onAddToCart(obj)}\r\n            onAddFavorites={(obj) => onAddToFavorites(item)}\r\n            added={cartItems.some((obj) => Number(obj.id) === Number(item.id))}\r\n            loading={isLoading}\r\n          />\r\n        ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <div className=\"content-title\">\r\n        <h1>{searchValue ? `Поиск по запросу \"${searchValue}\"` : 'Все кроссовки'}</h1>\r\n        <div className=\"search-block\">\r\n          <img src=\"img/search-logo.svg\" alt=\"Search-logo\" />\r\n          <input onChange={onChangeSearchInput} value={searchValue} placeholder=\"Поиск...\" />\r\n          {searchValue && (\r\n            <img\r\n              onClick={() => setSearchValue('')}\r\n              className=\"remove-btn input-remove\"\r\n              src=\"img/remove.svg\"\r\n              alt=\"Remove\"\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"sneakers\">{renderItems()}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react'\r\nimport Card from './components/Card'\r\nimport AppContext from './context'\r\n\r\nfunction Favorites({ onAddToCart, onAddToFavorites }) {\r\n  const { favorites } = React.useContext(AppContext)\r\n\r\n    return (\r\n        <div className=\"content\">\r\n        <div className=\"content-title\">\r\n          <h1>Мои закладки</h1>\r\n        </div>\r\n\r\n        <div className=\"sneakers\">\r\n          {favorites\r\n          .map((item, index) => (\r\n            <Card\r\n            {...item}\r\n            key={index}\r\n            onPlus={(obj)=>onAddToCart(item)}\r\n            favorited={true}\r\n            onAddFavorites={onAddToFavorites}\r\n            />\r\n          ))\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Favorites\r\n","import axios from 'axios';\r\nimport React from 'react'\r\nimport Card from './components/Card'\r\n// import AppContext from './context';\r\n\r\nfunction Orders() {\r\n    const[orders, setOrders] = React.useState([]);\r\n    const [isLoading, setIsLoading] = React.useState(true);\r\n    // const {onAddToCart, onAddToFavorites} = React.useContext(AppContext)\r\n\r\n    React.useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const { data } = await axios.get('https://60d9d1c65f7bf1001754778d.mockapi.io/orders');\r\n                setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\r\n                setIsLoading(false);\r\n            } catch(error){\r\n                alert('Ошибка при запросе заказов');\r\n            }\r\n        })()\r\n    }, [])\r\n    return (\r\n        <div className=\"content\">\r\n        <div className=\"content-title\">\r\n          <h1>Мои заказы</h1>\r\n        </div>\r\n\r\n        <div className=\"sneakers\">\r\n            {(isLoading ? [...Array(12)] : orders).map((item, index) => (\r\n            <Card\r\n            {...item}\r\n            key={index}\r\n            // onPlus={(obj)=>onAddToCart(item)}\r\n            // onAddFavorites={onAddToFavorites}\r\n            loading={isLoading}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Orders\r\n","import Drawer from './components/Drawer';\nimport Header from './components/Header';\nimport React from 'react';\nimport axios from 'axios';\nimport Home from './Home';\nimport { Route } from 'react-router';\nimport Favorites from './Favorites';\nimport AppContext from './context';\nimport Orders from './Orders';\n\nfunction App() {\n  const [cartOpened, setCartOpened] = React.useState(false);\n  const [items, setItems] = React.useState([]);\n  const [cartItems, setCartItems] = React.useState([]);\n  const [searchValue, setSearchValue] = React.useState('');\n  const [favorites, setFavorites] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    async function fetchData() {\n      try {\n        const [cartResponse, favoriteResponse, itemsResponse ] = await Promise.all([\n          axios.get('https://60d9d1c65f7bf1001754778d.mockapi.io/cart'),\n          axios.get(\n            'https://60d9d1c65f7bf1001754778d.mockapi.io/favorites'),\n          await axios.get('https://60d9d1c65f7bf1001754778d.mockapi.io/items'),\n        ]);\n        setIsLoading(false);\n        setCartItems(cartResponse.data);\n        setFavorites(favoriteResponse.data);\n        setItems(itemsResponse.data);\n      } catch (error) {\n        alert('Ошибка при запросе данных');\n        console.error(error);\n      }\n    }\n    fetchData();\n  }, []);\n\n  const onAddToCart = async(obj) => {\n    try {\n      const findItem = cartItems.find((item) => Number(item.parentId) === Number(obj.id))\n      if (findItem) {\n        setCartItems((prev) => prev.filter((item) => Number(item.parentId) !== Number(obj.id)));\n        await axios.delete(`https://60d9d1c65f7bf1001754778d.mockapi.io/cart/${findItem.id}`);\n      } else {\n        setCartItems((prev) => [...prev, obj]);\n        const { data } = await axios.post('https://60d9d1c65f7bf1001754778d.mockapi.io/cart', obj);\n        setCartItems((prev) =>\n          prev.map((item) => {\n            if (item.parentId === data.parentId) {\n              return {\n                ...item,\n                id: data.id,\n              };\n            }\n            return item;\n          }),\n        );\n      }\n    } catch (error){\n      alert('Ошибка при добавлении в корзину')\n      console.error(error);\n    }\n  };\n  const onRemoveCartItem = (id) => {\n    try {\n      axios.delete(`https://60d9d1c65f7bf1001754778d.mockapi.io/cart/${id}`);\n      setCartItems((prev) => prev.filter((item) => Number(item.id) !== Number(id)));\n    } catch (error){\n      alert('Ошибка при удалении из корзины');\n      console.error(error);\n    }\n    \n  };\n\n  const onAddToFavorites = async (obj) => {\n    try {\n      if (favorites.find((favObj) => favObj.id === obj.id)) {\n        axios.delete(`https://60d9d1c65f7bf1001754778d.mockapi.io/favorites/${obj.id}`);\n      } else {\n        const { data } = await axios.post(\n          'https://60d9d1c65f7bf1001754778d.mockapi.io/favorites',\n          obj,\n        );\n        setFavorites((prev) => [...prev, data]);\n      }\n    } catch (error) {\n      alert('Не удалось добавить в закладки');\n      console.error(error);\n    }\n  };\n   \n  const onChangeSearchInput = (event) => {\n    setSearchValue(event.target.value);\n  };\n \n  const isItemAdded = (id) => {\n    return cartItems.some((obj) => Number(obj.parentId) === Number(id));\n  }\n\n  return (\n    <AppContext.Provider value={{ items, cartItems, favorites, isItemAdded, onAddToCart, onAddToFavorites, setCartOpened, setCartItems }}>\n      <div className=\"wrapper clear\">\n        {cartOpened && (\n          <Drawer\n            items={cartItems}\n            onClose={() => setCartOpened(false)}\n            onRemove={onRemoveCartItem}\n          />\n        )}\n        <Header onClickCart={() => setCartOpened(true)} />\n\n        <Route path=\"\" exact>\n          <Home\n            items={items}\n            searchValue={searchValue}\n            onAddToCart={onAddToCart}\n            onAddToFavorites={onAddToFavorites}\n            onChangeSearchInput={onChangeSearchInput}\n            setSearchValue={setSearchValue}\n            cartItems={cartItems}\n            isLoading={isLoading}\n          />\n        </Route>\n\n        <Route path=\"favorites\" exact>\n          <Favorites\n            onAddToCart={onAddToCart}\n            onAddToFavorites={onAddToFavorites}\n          />\n        </Route>\n\n        <Route path=\"orders\" exact>\n          <Orders />\n        </Route>\n      </div>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}